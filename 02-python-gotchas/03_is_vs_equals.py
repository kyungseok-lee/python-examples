"""
03_is_vs_equals.py - ğŸŸ  is vs == ì°¨ì´

ğŸ“Œ í•µì‹¬ ê°œë…:
    - == : ê°’(value) ë¹„êµ (equals)
    - is : ê°ì²´ ë™ì¼ì„±(identity) ë¹„êµ (ê°™ì€ ë©”ëª¨ë¦¬ ì£¼ì†Œ)
    
    Pythonì€ ì‘ì€ ì •ìˆ˜(-5 ~ 256)ì™€ ì§§ì€ ë¬¸ìì—´ì„ ìºì‹±í•©ë‹ˆë‹¤.
    ì´ë¡œ ì¸í•´ is ì—°ì‚°ìê°€ ì˜ˆìƒê³¼ ë‹¤ë¥´ê²Œ ë™ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ”„ ë‹¤ë¥¸ ì–¸ì–´ ë¹„êµ:
    - Java: == (primitive ê°’, ì°¸ì¡° ë¹„êµ), equals() (ê°’ ë¹„êµ)
    - Go: == (ê°’ ë¹„êµ), í¬ì¸í„° ë¹„êµëŠ” ë³„ë„
    - Kotlin: == (equals), === (ì°¸ì¡° ë™ì¼ì„±)
    - Python: == (ê°’ ë¹„êµ), is (ì°¸ì¡° ë™ì¼ì„±)

âš ï¸ ì£¼ì˜ì‚¬í•­:
    - None ë¹„êµ: í•­ìƒ is ì‚¬ìš©
    - ìˆ«ì/ë¬¸ìì—´ ë¹„êµ: í•­ìƒ == ì‚¬ìš©
    - isë¥¼ ê°’ ë¹„êµì— ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”!

ğŸ“š ì°¸ê³ : https://docs.python.org/3/reference/expressions.html#is
"""

from __future__ import annotations


# =============================================================================
# 1ï¸âƒ£ is vs == ê¸°ë³¸ ê°œë…
# =============================================================================

def basic_comparison_demo() -> None:
    """
    isì™€ ==ì˜ ê¸°ë³¸ ì°¨ì´.
    
    ğŸ’¡ Java ê°œë°œìë¥¼ ìœ„í•œ íŒ:
        Javaì—ì„œ String ë¹„êµ ì‹œ == vs equals()ì˜ ì°¨ì´ì™€ ìœ ì‚¬í•©ë‹ˆë‹¤.
        
        Java:
            String a = "hello";
            String b = new String("hello");
            a == b;      // false (ì°¸ì¡° ë¹„êµ)
            a.equals(b); // true (ê°’ ë¹„êµ)
            
        Python:
            a = "hello"
            b = "hello"
            a is b  # True (ì¸í„°ë‹ìœ¼ë¡œ ì¸í•´!) - ì£¼ì˜!
            a == b  # True (ê°’ ë¹„êµ)
    """
    # ë¦¬ìŠ¤íŠ¸ ë¹„êµ
    list1 = [1, 2, 3]
    list2 = [1, 2, 3]
    list3 = list1
    
    print("ë¦¬ìŠ¤íŠ¸ ë¹„êµ:")
    print(f"  list1 = {list1}")
    print(f"  list2 = {list2}")
    print(f"  list3 = list1")
    print()
    print(f"  list1 == list2: {list1 == list2}")  # True (ê°’ì´ ê°™ìŒ)
    print(f"  list1 is list2: {list1 is list2}")  # False (ë‹¤ë¥¸ ê°ì²´)
    print(f"  list1 is list3: {list1 is list3}")  # True (ê°™ì€ ê°ì²´)
    print()
    print(f"  id(list1): {id(list1)}")
    print(f"  id(list2): {id(list2)}")
    print(f"  id(list3): {id(list3)}")


# =============================================================================
# 2ï¸âƒ£ ì •ìˆ˜ ìºì‹± (Small Integer Caching)
# =============================================================================

def integer_caching_demo() -> None:
    """
    Pythonì˜ ì‘ì€ ì •ìˆ˜ ìºì‹±.
    
    âš ï¸ Pythonì€ -5ë¶€í„° 256ê¹Œì§€ì˜ ì •ìˆ˜ë¥¼ ë¯¸ë¦¬ ìƒì„±í•´ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤!
    ì´ë¡œ ì¸í•´ is ë¹„êµ ê²°ê³¼ê°€ ì˜ˆìƒê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    """
    print("ì •ìˆ˜ ìºì‹± (-5 ~ 256):")
    
    # ìºì‹œ ë²”ìœ„ ë‚´
    a = 100
    b = 100
    print(f"  a = 100, b = 100")
    print(f"  a == b: {a == b}")  # True
    print(f"  a is b: {a is b}")  # True (ìºì‹±!)
    print(f"  id(a): {id(a)}, id(b): {id(b)}")
    
    # ìºì‹œ ë²”ìœ„ ë°–
    x = 1000
    y = 1000
    print(f"\n  x = 1000, y = 1000")
    print(f"  x == y: {x == y}")  # True
    print(f"  x is y: {x is y}")  # False ë˜ëŠ” True (êµ¬í˜„ì— ë”°ë¼)
    print(f"  id(x): {id(x)}, id(y): {id(y)}")
    
    # ìŒìˆ˜ ìºì‹œ ë²”ìœ„
    neg1 = -5
    neg2 = -5
    neg3 = -6
    neg4 = -6
    
    print(f"\n  -5 is -5: {neg1 is neg2}")  # True (ìºì‹œ ë²”ìœ„)
    print(f"  -6 is -6: {neg3 is neg4}")  # False ë˜ëŠ” True
    
    print("""
    âš ï¸ ì ˆëŒ€ ì •ìˆ˜ ë¹„êµì— isë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”!
       isì˜ ê²°ê³¼ëŠ” êµ¬í˜„ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
       í•­ìƒ == ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
    """)


# =============================================================================
# 3ï¸âƒ£ ë¬¸ìì—´ ì¸í„°ë‹ (String Interning)
# =============================================================================

def string_interning_demo() -> None:
    """
    ë¬¸ìì—´ ì¸í„°ë‹.
    
    Pythonì€ ì§§ê³  ë‹¨ìˆœí•œ ë¬¸ìì—´ì„ ì¸í„°ë‹(ì¬ì‚¬ìš©)í•©ë‹ˆë‹¤.
    """
    print("ë¬¸ìì—´ ì¸í„°ë‹:")
    
    # ì§§ì€ ì‹ë³„ì ìŠ¤íƒ€ì¼ ë¬¸ìì—´
    s1 = "hello"
    s2 = "hello"
    print(f"  s1 = 'hello', s2 = 'hello'")
    print(f"  s1 == s2: {s1 == s2}")  # True
    print(f"  s1 is s2: {s1 is s2}")  # True (ì¸í„°ë‹!)
    
    # ê³µë°±ì´ ìˆëŠ” ë¬¸ìì—´
    s3 = "hello world"
    s4 = "hello world"
    print(f"\n  s3 = 'hello world', s4 = 'hello world'")
    print(f"  s3 == s4: {s3 == s4}")  # True
    print(f"  s3 is s4: {s3 is s4}")  # êµ¬í˜„ì— ë”°ë¼ ë‹¤ë¦„
    
    # ë™ì ìœ¼ë¡œ ìƒì„±ëœ ë¬¸ìì—´
    s5 = "hello"
    s6 = "hel" + "lo"  # ì»´íŒŒì¼ íƒ€ì„ì— ìµœì í™”ë¨
    s7 = "".join(["h", "e", "l", "l", "o"])  # ëŸ°íƒ€ì„ ìƒì„±
    
    print(f"\n  s5 = 'hello'")
    print(f"  s6 = 'hel' + 'lo'")
    print(f"  s7 = ''.join(['h','e','l','l','o'])")
    print(f"  s5 is s6: {s5 is s6}")  # True (ì»´íŒŒì¼ ìµœì í™”)
    print(f"  s5 is s7: {s5 is s7}")  # False ë³´í†µ
    print(f"  s5 == s7: {s5 == s7}")  # True (í•­ìƒ)


# =============================================================================
# 4ï¸âƒ£ None ë¹„êµ - is ì‚¬ìš©
# =============================================================================

def none_comparison_demo() -> None:
    """
    None ë¹„êµëŠ” í•­ìƒ isë¥¼ ì‚¬ìš©.
    
    ğŸ’¡ Noneì€ ì‹±ê¸€í†¤ ê°ì²´ì´ë¯€ë¡œ isê°€ ì ì ˆí•©ë‹ˆë‹¤.
    """
    print("None ë¹„êµ (í•­ìƒ is ì‚¬ìš©!):")
    
    value = None
    
    # âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
    if value is None:
        print("  âœ… value is None: True")
    
    # âŒ í”¼í•´ì•¼ í•  ë°©ë²• (ë™ì‘ì€ í•˜ì§€ë§Œ ê¶Œì¥í•˜ì§€ ì•ŠìŒ)
    if value == None:  # noqa: E711
        print("  âš ï¸ value == None: True (ê¶Œì¥í•˜ì§€ ì•ŠìŒ)")
    
    print("""
    ğŸ’¡ ì™œ isë¥¼ ì‚¬ìš©í• ê¹Œ?
    
    1. Noneì€ ì‹±ê¸€í†¤ (ë‹¨ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤)
    2. isê°€ ë” ë¹ ë¦„ (í¬ì¸í„° ë¹„êµ)
    3. __eq__ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•œ ê°ì²´ì—ì„œ ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ ë°©ì§€
    4. PEP 8 ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ê¶Œì¥
    """)
    
    # __eq__ ì˜¤ë²„ë¼ì´ë“œ ì˜ˆì‹œ
    class Weird:
        def __eq__(self, other: object) -> bool:
            return True  # ëª¨ë“  ê²ƒê³¼ ê°™ë‹¤ê³  ì‘ë‹µ
    
    weird = Weird()
    print("  __eq__ ì˜¤ë²„ë¼ì´ë“œ ê°ì²´:")
    print(f"    weird == None: {weird == None}")  # True!
    print(f"    weird is None: {weird is None}")  # False (ì •í™•í•¨)


# =============================================================================
# 5ï¸âƒ£ Booleanê³¼ 0/1
# =============================================================================

def boolean_demo() -> None:
    """
    Booleanê³¼ ì •ìˆ˜ì˜ ê´€ê³„.
    
    Pythonì—ì„œ boolì€ intì˜ ì„œë¸Œí´ë˜ìŠ¤ì…ë‹ˆë‹¤!
    True == 1, False == 0
    """
    print("Booleanê³¼ ì •ìˆ˜:")
    
    print(f"  True == 1: {True == 1}")   # True
    print(f"  True is 1: {True is 1}")   # False
    print(f"  False == 0: {False == 0}")  # True
    print(f"  False is 0: {False is 0}")  # False
    
    print(f"\n  isinstance(True, int): {isinstance(True, int)}")  # True!
    
    # ì‹¤ìˆ˜í•˜ê¸° ì‰¬ìš´ ê²½ìš°
    def check_value(x: int | bool) -> str:
        if x is True:
            return "Boolean True"
        elif x is False:
            return "Boolean False"
        elif x == 1:
            return "Integer 1"
        elif x == 0:
            return "Integer 0"
        return "Other"
    
    print("\n  íƒ€ì… êµ¬ë¶„:")
    print(f"    check_value(True): {check_value(True)}")
    print(f"    check_value(1): {check_value(1)}")
    print(f"    check_value(False): {check_value(False)}")
    print(f"    check_value(0): {check_value(0)}")


# =============================================================================
# 6ï¸âƒ£ ìš”ì•½
# =============================================================================

def summary() -> None:
    """
    is vs == ìš”ì•½.
    """
    print("""
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                   ğŸŸ  is vs == ì‚¬ìš© ê·œì¹™                        â•‘
    â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
    â•‘                                                               â•‘
    â•‘  == (equals)                                                  â•‘
    â•‘    - ê°’ì´ ê°™ì€ì§€ ë¹„êµ                                         â•‘
    â•‘    - ìˆ«ì, ë¬¸ìì—´, ì»¬ë ‰ì…˜ ë¹„êµì— ì‚¬ìš©                         â•‘
    â•‘    - __eq__ ë©”ì„œë“œ í˜¸ì¶œ                                       â•‘
    â•‘                                                               â•‘
    â•‘  is (identity)                                                â•‘
    â•‘    - ê°™ì€ ê°ì²´ì¸ì§€ ë¹„êµ (ë©”ëª¨ë¦¬ ì£¼ì†Œ)                         â•‘
    â•‘    - None ë¹„êµì—ë§Œ ì‚¬ìš©: if x is None                        â•‘
    â•‘    - ì‹±ê¸€í†¤ íŒ¨í„´ ê°ì²´ ë¹„êµ                                    â•‘
    â•‘                                                               â•‘
    â•‘  âœ… ì˜¬ë°”ë¥¸ ì‚¬ìš©:                                               â•‘
    â•‘    if x is None:           # None ë¹„êµ                        â•‘
    â•‘    if x is not None:                                          â•‘
    â•‘    if a == b:              # ê°’ ë¹„êµ                          â•‘
    â•‘                                                               â•‘
    â•‘  âŒ í”¼í•´ì•¼ í•  ì‚¬ìš©:                                            â•‘
    â•‘    if x == None:           # is ì‚¬ìš©í•˜ì„¸ìš”                    â•‘
    â•‘    if num is 100:          # == ì‚¬ìš©í•˜ì„¸ìš”                    â•‘
    â•‘    if s is "hello":        # == ì‚¬ìš©í•˜ì„¸ìš”                    â•‘
    â•‘                                                               â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    """)


# =============================================================================
# ë©”ì¸ ì‹¤í–‰
# =============================================================================

def main() -> None:
    """ì˜ˆì œ ì‹¤í–‰."""
    demos = [
        ("1ï¸âƒ£ ê¸°ë³¸ ë¹„êµ", basic_comparison_demo),
        ("2ï¸âƒ£ ì •ìˆ˜ ìºì‹±", integer_caching_demo),
        ("3ï¸âƒ£ ë¬¸ìì—´ ì¸í„°ë‹", string_interning_demo),
        ("4ï¸âƒ£ None ë¹„êµ", none_comparison_demo),
        ("5ï¸âƒ£ Boolean", boolean_demo),
        ("6ï¸âƒ£ ìš”ì•½", summary),
    ]
    
    print("=" * 60)
    print("ğŸŸ  is vs == ì°¨ì´")
    print("=" * 60)
    print()
    
    for title, demo_func in demos:
        print("-" * 60)
        print(f"ğŸ“Œ {title}")
        print("-" * 60)
        demo_func()
        print()


if __name__ == "__main__":
    main()

